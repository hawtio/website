{"componentChunkName":"component---src-templates-docs-template-js","path":"/docs/online/openshift/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"openshift\" style=\"position:relative;\"><a href=\"#openshift\" aria-label=\"openshift permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OpenShift</h1>\n<p>An Hawtio console that eases the discovery and management of <em>hawtio-enabled</em> <sup><a href=\"#f1\">1</a></sup> applications deployed on OpenShift.</p>\n<h2 id=\"preparation\" style=\"position:relative;\"><a href=\"#preparation\" aria-label=\"preparation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Preparation</h2>\n<p>Prior to the deployment, depending on the cluster types you need to generate either of the <em>proxying</em> or <em>serving</em> certificates.</p>\n<table>\n<thead>\n<tr>\n<th>Certificate</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>Proxying</em></td>\n<td>Used to secure the communication between Hawtio Online and the Jolokia agents. A client certificate is generated and mounted into the Hawtio Online pod with a secret, to be used for TLS client authentication.</td>\n</tr>\n<tr>\n<td><em>Serving</em></td>\n<td>Used to secure the communication between the client and Hawtio Online.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"proxying-certificates\" style=\"position:relative;\"><a href=\"#proxying-certificates\" aria-label=\"proxying certificates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proxying certificates</h4>\n<p>For OpenShift, a client certificate must be generated using the <a href=\"https://docs.openshift.com/container-platform/latest/security/certificates/service-serving-certificate.html\">service signing certificate</a> authority private key.</p>\n<p>Run the following script to generate and set up a client certificate for Hawtio Online:</p>\n<pre><code class=\"language-sh\">$ ./scripts/generate-proxying.sh\n</code></pre>\n<p>or if you have Yarn installed, this will also do the same thing:</p>\n<pre><code class=\"language-sh\">$ yarn gen:proxying\n</code></pre>\n<h4 id=\"serving-certificates\" style=\"position:relative;\"><a href=\"#serving-certificates\" aria-label=\"serving certificates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Serving certificates</h4>\n<p>For OpenShift, a serving certificate is automatically generated for your Hawtio Online deployment using the <a href=\"https://docs.openshift.com/container-platform/latest/security/certificates/service-serving-certificate.html\">service signing certificate</a> feature.</p>\n<h2 id=\"deployment\" style=\"position:relative;\"><a href=\"#deployment\" aria-label=\"deployment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deployment</h2>\n<p>Now you can run the following instructions to deploy the Hawtio Online console on your OpenShift cluster.</p>\n<p>There are two deployment modes you can choose from: <strong>cluster</strong> and <strong>namespace</strong>.</p>\n<table>\n<thead>\n<tr>\n<th>Deployment Mode</th>\n<th>Descripton</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cluster</td>\n<td>The Hawtio Online console can discover and connect to <em>hawtio-enabled</em> <sup><a href=\"#f1\">1</a></sup> applications deployed across multiple namespaces / projects. <br> <strong>OpenShift:</strong> Use an OAuth client that requires the <code>cluster-admin</code> role to be created. By default, this requires the generation of a client certificate, signed with the <a href=\"https://docs.openshift.com/container-platform/latest/security/certificates/service-serving-certificate.html\">service signing certificate</a> authority, prior to the deployment. See the <a href=\"#openshift\">Preparation - OpenShift</a> section for more information.</td>\n</tr>\n<tr>\n<td>Namespace</td>\n<td>This restricts the Hawtio Online console access to a single namespace / project, and as such acts as a single tenant deployment. <br> <strong>OpenShift:</strong> Use a service account as OAuth client, which only requires <code>admin</code> role in a project to be created. By default, this requires the generation of a client certificate, signed with the <a href=\"https://docs.openshift.com/container-platform/latest/security/certificates/service-serving-certificate.html\">service signing certificate</a> authority, prior to the deployment. See the <a href=\"#openshift\">Preparation - OpenShift</a> section for more information.</td>\n</tr>\n</tbody>\n</table>\n<p>You may want to read how to <a href=\"https://docs.openshift.com/container-platform/latest/cli_reference/openshift_cli/getting-started-cli.html\">get started with the CLI</a> for more information about the <code>oc</code> client tool.</p>\n<p>To deploy the Hawtio Online console on OpenShift, follow the steps below.</p>\n<h4 id=\"cluster-mode\" style=\"position:relative;\"><a href=\"#cluster-mode\" aria-label=\"cluster mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cluster mode</h4>\n<p>If you have Yarn installed:</p>\n<pre><code class=\"language-sh\">$ yarn deploy:openshift:cluster\n</code></pre>\n<p>otherwise (two commands):</p>\n<pre><code class=\"language-sh\">$ oc apply -k deploy/openshift/cluster/\n$ ./deploy/openshift/cluster/oauthclient.sh\n</code></pre>\n<h4 id=\"namespace-mode\" style=\"position:relative;\"><a href=\"#namespace-mode\" aria-label=\"namespace mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Namespace mode</h4>\n<p>If you have Yarn installed:</p>\n<pre><code class=\"language-sh\">$ yarn deploy:openshift:namespace\n</code></pre>\n<p>otherwise:</p>\n<pre><code class=\"language-sh\">$ oc apply -k deploy/openshift/namespace/\n</code></pre>\n<p>You can obtain the status of your deployment, by running:</p>\n<pre><code class=\"language-sh\">$ oc status\nIn project hawtio on server https://192.168.64.12:8443\n\nhttps://hawtio-online-hawtio.192.168.64.12.nip.io (reencrypt) (svc/hawtio-online)\n  deployment/hawtio-online deploys hawtio/online:latest\n    deployment #1 deployed 2 minutes ago - 1 pod\n</code></pre>\n<p>Open the route URL displayed above from your Web browser to access the Hawtio Online console.</p>\n<h2 id=\"authentication\" style=\"position:relative;\"><a href=\"#authentication\" aria-label=\"authentication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authentication</h2>\n<p>Hawtio Online currently supports two authentication modes: <code>oauth</code>, which is configured through <code>HAWTIO_ONLINE_AUTH</code> environment variable on Deployment.</p>\n<table>\n<thead>\n<tr>\n<th>Mode</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>oauth</td>\n<td>Authenticates requests through <a href=\"https://docs.openshift.com/container-platform/4.9/authentication/understanding-authentication.html\">OpenShift OAuth server</a>. It is available only on OpenShift.</td>\n</tr>\n</tbody>\n</table>\n<p><a name=\"f1\">1</a>. Containers with a configured port named <code>jolokia</code> and that exposes the <a href=\"https://jolokia.org\">Jolokia</a> API.</p>","frontmatter":{"title":""}}},"pageContext":{"slug":"/docs/online/openshift/"}}}